<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A closure with a lifetime parameter that represents a Rust closure passed to JavaScript."><title>ScopedClosure in wasm_bindgen::closure - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-b7b9f40b.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="wasm_bindgen" data-themes="" data-resource-suffix="" data-rustdoc-version="1.95.0-nightly (859951e3c 2026-02-24)" data-channel="nightly" data-search-js="search-63369b7b.js" data-stringdex-js="stringdex-b897f86f.js" data-settings-js="settings-170eb4bf.js" ><script src="../../static.files/storage-41dd4d93.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-5013f961.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-f7c3ffd8.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc struct"><a class="skip-main-content" href="#main-content">Skip to main content</a><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">ScopedClosure</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../wasm_bindgen/index.html">wasm_<wbr>bindgen</a><span class="version">0.2.113</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Scoped<wbr>Closure</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#ownership-model" title="Ownership Model">Ownership Model</a></li><li><a href="#lifetime-safety" title="Lifetime Safety">Lifetime Safety</a></li><li><a href="#examples" title="Examples">Examples</a><ul><li><a href="#borrowed-closures-with-scopedclosureborrow" title="Borrowed closures with `ScopedClosure::borrow`">Borrowed closures with <code>ScopedClosure::borrow</code></a></li><li><a href="#owned-closures-with-closurenew" title="Owned closures with `Closure::new`">Owned closures with <code>Closure::new</code></a></li><li><a href="#transferring-ownership-to-js" title="Transferring ownership to JS">Transferring ownership to JS</a></li></ul></li></ul><h3><a href="#implementations">Methods</a></h3><ul class="block method"><li><a href="#method.as_js_value" title="as_js_value">as_js_value</a></li><li><a href="#method.borrow" title="borrow">borrow</a></li><li><a href="#method.borrow_aborting" title="borrow_aborting">borrow_aborting</a></li><li><a href="#method.borrow_assert_unwind_safe" title="borrow_assert_unwind_safe">borrow_assert_unwind_safe</a></li><li><a href="#method.borrow_mut" title="borrow_mut">borrow_mut</a></li><li><a href="#method.borrow_mut_aborting" title="borrow_mut_aborting">borrow_mut_aborting</a></li><li><a href="#method.borrow_mut_assert_unwind_safe" title="borrow_mut_assert_unwind_safe">borrow_mut_assert_unwind_safe</a></li><li><a href="#method.forget" title="forget">forget</a></li><li><a href="#method.into_js_value" title="into_js_value">into_js_value</a></li><li><a href="#method.new" title="new">new</a></li><li><a href="#method.once" title="once">once</a></li><li><a href="#method.once_aborting" title="once_aborting">once_aborting</a></li><li><a href="#method.once_assert_unwind_safe" title="once_assert_unwind_safe">once_assert_unwind_safe</a></li><li><a href="#method.once_into_js" title="once_into_js">once_into_js</a></li><li><a href="#method.own" title="own">own</a></li><li><a href="#method.own_aborting" title="own_aborting">own_aborting</a></li><li><a href="#method.own_assert_unwind_safe" title="own_assert_unwind_safe">own_assert_unwind_safe</a></li><li><a href="#method.wrap" title="wrap">wrap</a></li><li><a href="#method.wrap_aborting" title="wrap_aborting">wrap_aborting</a></li><li><a href="#method.wrap_assert_unwind_safe" title="wrap_assert_unwind_safe">wrap_assert_unwind_safe</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block trait-implementation"><li><a href="#impl-AsRef%3CJsValue%3E-for-ScopedClosure%3C'_,+T%3E" title="AsRef&#60;JsValue&#62;">AsRef&#60;JsValue&#62;</a></li><li><a href="#impl-Debug-for-ScopedClosure%3C'_,+T%3E" title="Debug">Debug</a></li><li><a href="#impl-Drop-for-ScopedClosure%3C'_,+T%3E" title="Drop">Drop</a></li><li><a href="#impl-ErasableGeneric-for-ScopedClosure%3C'_,+T%3E" title="ErasableGeneric">ErasableGeneric</a></li><li><a href="#impl-IntoWasmAbi-for-%26ScopedClosure%3C'_,+T%3E" title="IntoWasmAbi">IntoWasmAbi</a></li><li><a href="#impl-IntoWasmAbi-for-ScopedClosure%3C'static,+T%3E" title="IntoWasmAbi">IntoWasmAbi</a></li><li><a href="#impl-OptionIntoWasmAbi-for-%26ScopedClosure%3C'_,+T%3E" title="OptionIntoWasmAbi">OptionIntoWasmAbi</a></li><li><a href="#impl-OptionIntoWasmAbi-for-ScopedClosure%3C'static,+T%3E" title="OptionIntoWasmAbi">OptionIntoWasmAbi</a></li><li><a href="#impl-Unpin-for-ScopedClosure%3C'_,+T%3E" title="Unpin">Unpin</a></li><li><a href="#impl-UpcastFrom%3CScopedClosure%3C'a,+T1%3E%3E-for-ScopedClosure%3C'b,+T2%3E" title="UpcastFrom&#60;ScopedClosure&#60;&#39;a, T1&#62;&#62;">UpcastFrom&#60;ScopedClosure&#60;&#39;a, T1&#62;&#62;</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block synthetic-implementation"><li><a href="#impl-Freeze-for-ScopedClosure%3C'a,+T%3E" title="Freeze">Freeze</a></li><li><a href="#impl-RefUnwindSafe-for-ScopedClosure%3C'a,+T%3E" title="RefUnwindSafe">RefUnwindSafe</a></li><li><a href="#impl-Send-for-ScopedClosure%3C'a,+T%3E" title="Send">Send</a></li><li><a href="#impl-Sync-for-ScopedClosure%3C'a,+T%3E" title="Sync">Sync</a></li><li><a href="#impl-UnsafeUnpin-for-ScopedClosure%3C'a,+T%3E" title="UnsafeUnpin">UnsafeUnpin</a></li><li><a href="#impl-UnwindSafe-for-ScopedClosure%3C'a,+T%3E" title="UnwindSafe">UnwindSafe</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block blanket-implementation"><li><a href="#impl-Any-for-T" title="Any">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-T" title="Borrow&#60;T&#62;">Borrow&#60;T&#62;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-T" title="BorrowMut&#60;T&#62;">BorrowMut&#60;T&#62;</a></li><li><a href="#impl-From%3CT%3E-for-T" title="From&#60;T&#62;">From&#60;T&#62;</a></li><li><a href="#impl-Into%3CU%3E-for-T" title="Into&#60;U&#62;">Into&#60;U&#62;</a></li><li><a href="#impl-ReturnWasmAbi-for-T" title="ReturnWasmAbi">ReturnWasmAbi</a></li><li><a href="#impl-TryFrom%3CU%3E-for-T" title="TryFrom&#60;U&#62;">TryFrom&#60;U&#62;</a></li><li><a href="#impl-TryInto%3CU%3E-for-T" title="TryInto&#60;U&#62;">TryInto&#60;U&#62;</a></li><li><a href="#impl-Upcast%3CT%3E-for-S" title="Upcast&#60;T&#62;">Upcast&#60;T&#62;</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="index.html">In wasm_<wbr>bindgen::<wbr>closure</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content" tabindex="-1"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">wasm_bindgen</a>::<wbr><a href="index.html">closure</a></div><h1>Struct <span class="struct">Scoped<wbr>Closure</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/wasm_bindgen/closure.rs.html#168-174">Source</a> </span></div><pre class="rust item-decl"><code>pub struct ScopedClosure&lt;'a, T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; { <span class="comment">/* private fields */</span> }</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A closure with a lifetime parameter that represents a Rust closure passed to JavaScript.</p>
<p><code>ScopedClosure&lt;'a, T&gt;</code> is the unified closure type. The lifetime <code>'a</code> indicates
how long the closure is valid:</p>
<ul>
<li>
<p><strong><code>ScopedClosure&lt;'static, T&gt;</code></strong> - An owned closure with heap-allocated data. Requires
<code>'static</code> captures. Use for long-lived closures like event listeners and timers.
Created with <a href="struct.ScopedClosure.html#method.new" title="associated function wasm_bindgen::closure::ScopedClosure::new"><code>Closure::new</code></a> or <a href="struct.ScopedClosure.html#method.own" title="associated function wasm_bindgen::closure::ScopedClosure::own"><code>ScopedClosure::own</code></a>. May transfer ownership to the
JS GC using finalizers.</p>
</li>
<li>
<p><strong><code>ScopedClosure&lt;'a, T&gt;</code></strong> (non-<code>'static</code>) - A borrowed closure referencing stack data.
Allows non-<code>'static</code> captures. Use for immediate/synchronous callbacks. Created with
<a href="struct.ScopedClosure.html#method.borrow" title="associated function wasm_bindgen::closure::ScopedClosure::borrow"><code>ScopedClosure::borrow</code></a> (for <code>FnMut</code>) or [<code>ScopedClosure::borrow_immutable</code>] (for <code>Fn</code>).
Cannot transfer ownership to JS GC.</p>
</li>
</ul>
<p><a href="type.Closure.html" title="type wasm_bindgen::closure::Closure"><code>Closure&lt;T&gt;</code></a> is currently a type alias for <code>ScopedClosure&lt;'static, T&gt;</code>. In
a future release, a lifetime argument will be added to this alias.</p>
<h2 id="ownership-model"><a class="doc-anchor" href="#ownership-model">§</a>Ownership Model</h2>
<p><code>ScopedClosure</code> follows the same ownership model as other wasm-bindgen types:
the JavaScript reference remains valid until the Rust value is dropped. When
dropped, the closure is invalidated and any subsequent calls from JavaScript
will throw: “closure invoked recursively or after being dropped”.</p>
<p>For <code>'static</code> closures, you can also:</p>
<ul>
<li>Pass by value to transfer ownership to JS (implements <a href="../convert/trait.IntoWasmAbi.html" title="trait wasm_bindgen::convert::IntoWasmAbi"><code>IntoWasmAbi</code></a>)</li>
<li>Call <a href="struct.ScopedClosure.html#method.forget" title="method wasm_bindgen::closure::ScopedClosure::forget"><code>forget()</code></a> to leak the closure (JS can use it indefinitely)</li>
<li>Call <a href="struct.ScopedClosure.html#method.into_js_value" title="method wasm_bindgen::closure::ScopedClosure::into_js_value"><code>into_js_value()</code></a> to transfer to JS GC management</li>
</ul>
<h2 id="lifetime-safety"><a class="doc-anchor" href="#lifetime-safety">§</a>Lifetime Safety</h2>
<p>For borrowed closures, Rust’s borrow checker ensures that <code>ScopedClosure</code> cannot
be held longer than the closure’s captured data:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">let </span><span class="kw-2">mut </span>sum = <span class="number">0</span>;
<span class="kw">let </span><span class="kw-2">mut </span>f = |x: u32| { sum += x; };  <span class="comment">// f borrows sum
</span><span class="kw">let </span>closure = ScopedClosure::borrow(<span class="kw-2">&amp;mut </span>f);  <span class="comment">// closure borrows f
// closure cannot outlive f, and f cannot outlive sum</span></code></pre></div><h2 id="examples"><a class="doc-anchor" href="#examples">§</a>Examples</h2><h3 id="borrowed-closures-with-scopedclosureborrow"><a class="doc-anchor" href="#borrowed-closures-with-scopedclosureborrow">§</a>Borrowed closures with <code>ScopedClosure::borrow</code></h3>
<p>Use for immediate/synchronous callbacks where JS calls the closure right away:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">use </span>wasm_bindgen::prelude::<span class="kw-2">*</span>;

<span class="attr">#[wasm_bindgen]
</span><span class="kw">extern </span><span class="string">"C" </span>{
    <span class="kw">fn </span>call_immediately(cb: <span class="kw-2">&amp;</span>ScopedClosure&lt;<span class="kw">dyn </span>FnMut(u32)&gt;);
}

<span class="kw">let </span><span class="kw-2">mut </span>sum = <span class="number">0</span>;
{
    <span class="kw">let </span><span class="kw-2">mut </span>f = |x: u32| { sum += x; };
    <span class="kw">let </span>closure = ScopedClosure::borrow(<span class="kw-2">&amp;mut </span>f);
    call_immediately(<span class="kw-2">&amp;</span>closure);
}  <span class="comment">// closure dropped here, JS function invalidated
</span><span class="macro">assert_eq!</span>(sum, <span class="number">42</span>);</code></pre></div><h3 id="owned-closures-with-closurenew"><a class="doc-anchor" href="#owned-closures-with-closurenew">§</a>Owned closures with <code>Closure::new</code></h3>
<p>Use for long-lived callbacks like event listeners and timers:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">use </span>wasm_bindgen::prelude::<span class="kw-2">*</span>;

<span class="attr">#[wasm_bindgen]
</span><span class="kw">extern </span><span class="string">"C" </span>{
    <span class="kw">fn </span>setInterval(closure: <span class="kw-2">&amp;</span>Closure&lt;<span class="kw">dyn </span>FnMut()&gt;, time: u32) -&gt; i32;
}

<span class="comment">// Closure::new requires 'static, so use `move` to capture by value
</span><span class="kw">let </span>cb = Closure::new(<span class="kw">move </span>|| {
    <span class="comment">// ...
</span>});
setInterval(<span class="kw-2">&amp;</span>cb, <span class="number">1000</span>);
<span class="comment">// Must keep `cb` alive or call `cb.forget()` to transfer to JS</span></code></pre></div><h3 id="transferring-ownership-to-js"><a class="doc-anchor" href="#transferring-ownership-to-js">§</a>Transferring ownership to JS</h3>
<p>Pass a <code>ScopedClosure&lt;'static, T&gt;</code> by value to transfer ownership:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">use </span>wasm_bindgen::prelude::<span class="kw-2">*</span>;

<span class="attr">#[wasm_bindgen]
</span><span class="kw">extern </span><span class="string">"C" </span>{
    <span class="kw">fn </span>set_one_shot_callback(cb: ScopedClosure&lt;<span class="kw">dyn </span>FnMut()&gt;);
}

<span class="kw">let </span>cb = ScopedClosure::own(|| { <span class="comment">/* ... */ </span>});
set_one_shot_callback(cb);  <span class="comment">// Ownership transferred, no need to store</span></code></pre></div></div></details><h2 id="implementations" class="section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-ScopedClosure%3C'a,+T%3E" class="impl"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#208-216">Source</a><a href="#impl-ScopedClosure%3C'a,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a, T&gt; <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'a, T&gt;<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + WasmClosure,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.as_js_value" class="method"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#213-215">Source</a><h4 class="code-header">pub fn <a href="#method.as_js_value" class="fn">as_js_value</a>(&amp;self) -&gt; &amp;<a class="struct" href="../struct.JsValue.html" title="struct wasm_bindgen::JsValue">JsValue</a></h4></section></summary><div class="docblock"><p>Obtain a <code>&amp;JsValue</code> reference for this closure</p>
</div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-ScopedClosure%3C'static,+T%3E" class="impl"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#222-738">Source</a><a href="#impl-ScopedClosure%3C'static,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'static, T&gt;<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + WasmClosure,</div></h3><div class="docblock"><p>Methods for creating and managing <code>'static</code> closures.</p>
</div></section></summary><div class="docblock"><p>These methods are only available on <code>ScopedClosure&lt;'static, T&gt;</code>
not on borrowed <code>ScopedClosure&lt;'a, T&gt;</code> where <code>'a</code> is not <code>'static</code>.</p>
</div><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.new" class="method"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#242-247">Source</a><h4 class="code-header">pub fn <a href="#method.new" class="fn">new</a>&lt;F&gt;(t: F) -&gt; Self<div class="where">where
    F: IntoWasmClosure&lt;T&gt; + MaybeUnwindSafe + 'static,</div></h4></section></summary><div class="docblock"><p>Alias for <a href="struct.ScopedClosure.html#method.own" title="associated function wasm_bindgen::closure::ScopedClosure::own"><code>Closure::own</code></a>.</p>
<p>Creates a new static owned <code>ScopedClosure&lt;'static, T&gt;</code> from the provided
Rust function, with panic unwind support.</p>
<p>The type parameter <code>T</code> determines whether the closure is <code>Fn</code> or <code>FnMut</code>.</p>
<p>Supports unwind via its UnwindSafe bound when building with panic=unwind.
Alternatively, pass <code>Closure::own(AssertUnwindSafe(...))</code> to assert unwind
safety, or use <a href="struct.ScopedClosure.html#method.own_assert_unwind_safe" title="associated function wasm_bindgen::closure::ScopedClosure::own_assert_unwind_safe"><code>own_assert_unwind_safe</code></a> or
<a href="struct.ScopedClosure.html#method.own_aborting" title="associated function wasm_bindgen::closure::ScopedClosure::own_aborting"><code>own_aborting</code></a>.</p>
<p>When provided to a JS function as an own value, to be managed by the JS GC.</p>
<p>See <a href="struct.ScopedClosure.html#method.borrow" title="associated function wasm_bindgen::closure::ScopedClosure::borrow"><code>borrow</code></a> for creating a borrowed <code>ScopedClosure</code> with
an associated lifetime (defaults to immutable <code>Fn</code>).</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.own" class="method"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#263-268">Source</a><h4 class="code-header">pub fn <a href="#method.own" class="fn">own</a>&lt;F&gt;(t: F) -&gt; Self<div class="where">where
    F: IntoWasmClosure&lt;T&gt; + MaybeUnwindSafe + 'static,</div></h4></section></summary><div class="docblock"><p>Creates a new static owned <code>ScopedClosure&lt;'static, T&gt;</code> from the provided
Rust function, with panic unwind support.</p>
<p>The type parameter <code>T</code> determines whether the closure is <code>Fn</code> or <code>FnMut</code>.</p>
<p>Supports unwind via its UnwindSafe bound when building with panic=unwind.
Alternatively, pass <code>Closure::own(AssertUnwindSafe(...))</code> to assert unwind
safety, or use <a href="struct.ScopedClosure.html#method.own_assert_unwind_safe" title="associated function wasm_bindgen::closure::ScopedClosure::own_assert_unwind_safe"><code>own_assert_unwind_safe</code></a> or
<a href="struct.ScopedClosure.html#method.own_aborting" title="associated function wasm_bindgen::closure::ScopedClosure::own_aborting"><code>own_aborting</code></a>.</p>
<p>When provided to a JS function as an own value, to be managed by the JS GC.</p>
<p>See <a href="struct.ScopedClosure.html#method.borrow" title="associated function wasm_bindgen::closure::ScopedClosure::borrow"><code>borrow</code></a> for creating a borrowed <code>ScopedClosure</code> with
an associated lifetime (defaults to immutable <code>Fn</code>).</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.own_aborting" class="method"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#284-289">Source</a><h4 class="code-header">pub fn <a href="#method.own_aborting" class="fn">own_aborting</a>&lt;F&gt;(t: F) -&gt; Self<div class="where">where
    F: IntoWasmClosure&lt;T&gt; + 'static,</div></h4></section></summary><div class="docblock"><p>Creates a new owned <code>'static</code> closure that aborts on panic.</p>
<p>Unlike <a href="struct.ScopedClosure.html#method.own" title="associated function wasm_bindgen::closure::ScopedClosure::own"><code>own</code></a>, this version does NOT catch panics and does NOT
require <code>UnwindSafe</code>. If the closure panics, the process will abort.</p>
<p>The type parameter <code>T</code> determines whether the closure is <code>Fn</code> or <code>FnMut</code>.</p>
<p>When provided to a JS function as an own value, to be managed by the JS GC.</p>
<p>See <a href="struct.ScopedClosure.html#method.borrow_aborting" title="associated function wasm_bindgen::closure::ScopedClosure::borrow_aborting"><code>borrow_aborting</code></a> for creating a borrowed
<code>ScopedClosure</code> with an associated lifetime.</p>
<p><strong>Note: Not unwind safe. Prefer <a href="struct.ScopedClosure.html#method.own" title="associated function wasm_bindgen::closure::ScopedClosure::own"><code>own</code></a> or <code>own</code> with
<a href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/struct.AssertUnwindSafe.html" title="struct core::panic::unwind_safe::AssertUnwindSafe"><code>AssertUnwindSafe</code></a> when possible.</strong></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.own_assert_unwind_safe" class="method"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#303-308">Source</a><h4 class="code-header">pub fn <a href="#method.own_assert_unwind_safe" class="fn">own_assert_unwind_safe</a>&lt;F&gt;(t: F) -&gt; Self<div class="where">where
    F: IntoWasmClosure&lt;T&gt; + 'static,</div></h4></section></summary><div class="docblock"><p>Creates a new static owned <code>ScopedClosure&lt;'static, T&gt;</code> from the provided
Rust function, with panic unwind support.</p>
<p>The type parameter <code>T</code> determines whether the closure is <code>Fn</code> or <code>FnMut</code>.</p>
<p>When provided to a JS function as an own value, to be managed by the JS GC.</p>
<p><strong>Safety: Unwind safety is assumed when using this function, like using
<code>AssertUnwindSafe(...)</code>, this must be verified explicitly.</strong></p>
<p>See <a href="struct.ScopedClosure.html#method.borrow_aborting" title="associated function wasm_bindgen::closure::ScopedClosure::borrow_aborting"><code>borrow_aborting</code></a> for creating a borrowed
<code>ScopedClosure</code> with an associated lifetime.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.wrap" class="method"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#317-322">Source</a><h4 class="code-header">pub fn <a href="#method.wrap" class="fn">wrap</a>&lt;F&gt;(data: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;F&gt;) -&gt; Self<div class="where">where
    F: IntoWasmClosure&lt;T&gt; + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + MaybeUnwindSafe,</div></h4></section></summary><div class="docblock"><p>A more direct version of <code>Closure::new</code> which creates a <code>Closure</code> from
a <code>Box&lt;dyn Fn&gt;</code>/<code>Box&lt;dyn FnMut&gt;</code>, which is how it’s kept internally.</p>
<p>Supports unwind via its UnwindSafe bound when building with panic=unwind.
Alternatively, use <a href="struct.ScopedClosure.html#method.wrap_assert_unwind_safe" title="associated function wasm_bindgen::closure::ScopedClosure::wrap_assert_unwind_safe"><code>wrap_assert_unwind_safe</code></a>
to assert unwind safety, or use <a href="struct.ScopedClosure.html#method.wrap_aborting" title="associated function wasm_bindgen::closure::ScopedClosure::wrap_aborting"><code>wrap_aborting</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.wrap_aborting" class="method"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#328-333">Source</a><h4 class="code-header">pub fn <a href="#method.wrap_aborting" class="fn">wrap_aborting</a>&lt;F&gt;(data: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;F&gt;) -&gt; Self<div class="where">where
    F: IntoWasmClosure&lt;T&gt; + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h4></section></summary><div class="docblock"><p>A more direct version of <code>Closure::new</code> which creates a <code>Closure</code> from
a <code>Box&lt;dyn Fn&gt;</code>/<code>Box&lt;dyn FnMut&gt;</code>, which is how it’s kept internally.</p>
<p>This version aborts on panics.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.wrap_assert_unwind_safe" class="method"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#342-347">Source</a><h4 class="code-header">pub fn <a href="#method.wrap_assert_unwind_safe" class="fn">wrap_assert_unwind_safe</a>&lt;F&gt;(data: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;F&gt;) -&gt; Self<div class="where">where
    F: IntoWasmClosure&lt;T&gt; + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h4></section></summary><div class="docblock"><p>A more direct version of <code>Closure::new</code> which creates a <code>Closure</code> from
a <code>Box&lt;dyn Fn&gt;</code>/<code>Box&lt;dyn FnMut&gt;</code>, which is how it’s kept internally.</p>
<p><strong>Safety: Unwind safety is assumed when using this function, like using
<code>AssertUnwindSafe(...)</code>, this must be verified explicitly.</strong></p>
<p>This version catches panics when unwinding is available.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.borrow" class="method"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#424-439">Source</a><h4 class="code-header">pub fn <a href="#method.borrow" class="fn">borrow</a>&lt;'a, F&gt;(t: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a F</a>) -&gt; <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'a, F::Static&gt;<div class="where">where
    F: IntoWasmClosureRef&lt;'a, T&gt; + MaybeUnwindSafe + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h4></section></summary><div class="docblock"><p>Creates a scoped closure by borrowing an immutable <code>Fn</code> closure with
panic unwind support.</p>
<p>This is the recommended way to pass closures to JavaScript for immediate/
synchronous use. Unlike <a href="struct.ScopedClosure.html#method.own" title="associated function wasm_bindgen::closure::ScopedClosure::own"><code>Closure::own</code></a>, this does not require the closure
to be <code>'static</code>, allowing you to capture references to local variables.</p>
<p>Use <a href="struct.ScopedClosure.html#method.borrow_mut" title="associated function wasm_bindgen::closure::ScopedClosure::borrow_mut"><code>borrow_mut</code></a> when you need to mutate captured state.</p>
<p>The returned <code>ScopedClosure&lt;'a, _&gt;</code> has lifetime <code>'a</code> from the closure
reference, which means it cannot outlive the closure or any data the
closure captures.</p>
<p>Supports unwind via its UnwindSafe bound when building with panic=unwind.
Wrap with <code>AssertUnwindSafe</code> if necessary to achieve this bound, or
use <a href="struct.ScopedClosure.html#method.borrow_assert_unwind_safe" title="associated function wasm_bindgen::closure::ScopedClosure::borrow_assert_unwind_safe"><code>borrow_assert_unwind_safe</code></a> or
<a href="struct.ScopedClosure.html#method.borrow_aborting" title="associated function wasm_bindgen::closure::ScopedClosure::borrow_aborting"><code>borrow_aborting</code></a> for non-unwind-safe functions.</p>
<p>The resulting closure can be upcasted to <code>FnMut</code> using <a href="crate::Upcast::upcast_ref"><code>upcast_ref</code></a>.</p>
<h5 id="when-to-use-scoped-closures"><a class="doc-anchor" href="#when-to-use-scoped-closures">§</a>When to use scoped closures</h5>
<p>Use <code>ScopedClosure::borrow</code> or <code>ScopedClosure::borrow_mut</code> when:</p>
<ul>
<li>JavaScript will call the closure immediately and not retain it</li>
<li>You need to capture non-<code>'static</code> references</li>
<li>You want automatic cleanup when the <code>ScopedClosure</code> is dropped</li>
</ul>
<h5 id="closure-lifetime"><a class="doc-anchor" href="#closure-lifetime">§</a>Closure lifetime</h5>
<p>The JavaScript function is only valid while the <code>ScopedClosure</code> exists.
Once dropped, the JavaScript function is invalidated. If JavaScript retains
a reference and calls it later, it will throw: “closure invoked recursively
or after being dropped”.</p>
<p>Rust’s borrow checker ensures <code>ScopedClosure</code> cannot outlive the closure’s
captured data, preventing use-after-free bugs.</p>
<h5 id="example"><a class="doc-anchor" href="#example">§</a>Example</h5>
<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">use </span>wasm_bindgen::prelude::<span class="kw-2">*</span>;

<span class="attr">#[wasm_bindgen]
</span><span class="kw">extern </span><span class="string">"C" </span>{
    <span class="kw">fn </span>call_with_value(cb: <span class="kw-2">&amp;</span>ScopedClosure&lt;<span class="kw">dyn </span>Fn(u32)&gt;, value: u32);
    <span class="kw">fn </span>call_fnmut(cb: <span class="kw-2">&amp;</span>ScopedClosure&lt;<span class="kw">dyn </span>FnMut(u32)&gt;, value: u32);
}

<span class="kw">let </span>data = <span class="macro">vec!</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];
<span class="kw">let </span>f = |x| {
    <span class="macro">println!</span>(<span class="string">"data len: {}, x: {}"</span>, data.len(), x);
};
<span class="kw">let </span>closure = ScopedClosure::borrow(<span class="kw-2">&amp;</span>f);
call_with_value(<span class="kw-2">&amp;</span>closure, <span class="number">42</span>);
<span class="comment">// Can also upcast to FnMut
</span>call_fnmut(closure.upcast_ref(), <span class="number">42</span>);</code></pre></div></div></details><details class="toggle method-toggle" open><summary><section id="method.borrow_aborting" class="method"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#448-463">Source</a><h4 class="code-header">pub fn <a href="#method.borrow_aborting" class="fn">borrow_aborting</a>&lt;'a, F&gt;(t: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a F</a>) -&gt; <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'a, F::Static&gt;<div class="where">where
    F: IntoWasmClosureRef&lt;'a, T&gt; + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h4></section></summary><div class="docblock"><p>Like <a href="struct.ScopedClosure.html#method.borrow" title="associated function wasm_bindgen::closure::ScopedClosure::borrow"><code>borrow</code></a>, but does not catch panics.</p>
<p>If the closure panics, the process will abort. This variant does not
require <code>UnwindSafe</code>.</p>
<p><strong>Note: Not unwind safe. Prefer <a href="struct.ScopedClosure.html#method.borrow" title="associated function wasm_bindgen::closure::ScopedClosure::borrow"><code>borrow</code></a> or
<a href="struct.ScopedClosure.html#method.borrow_assert_unwind_safe" title="associated function wasm_bindgen::closure::ScopedClosure::borrow_assert_unwind_safe"><code>borrow_assert_unwind_safe</code></a> when possible.</strong></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.borrow_assert_unwind_safe" class="method"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#469-484">Source</a><h4 class="code-header">pub fn <a href="#method.borrow_assert_unwind_safe" class="fn">borrow_assert_unwind_safe</a>&lt;'a, F&gt;(
    t: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a F</a>,
) -&gt; <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'a, F::Static&gt;<div class="where">where
    F: IntoWasmClosureRef&lt;'a, T&gt; + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h4></section></summary><div class="docblock"><p>Like <a href="struct.ScopedClosure.html#method.borrow" title="associated function wasm_bindgen::closure::ScopedClosure::borrow"><code>borrow</code></a>, but catches panics without requiring <code>MaybeUnwindSafe</code>.</p>
<p><strong>Safety: Unwind safety is assumed when using this function, like using
<code>AssertUnwindSafe(...)</code>, this must be verified explicitly.</strong></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.borrow_mut" class="method"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#517-532">Source</a><h4 class="code-header">pub fn <a href="#method.borrow_mut" class="fn">borrow_mut</a>&lt;'a, F&gt;(t: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut F</a>) -&gt; <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'a, F::Static&gt;<div class="where">where
    F: IntoWasmClosureRefMut&lt;'a, T&gt; + MaybeUnwindSafe + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h4></section></summary><div class="docblock"><p>Creates a scoped closure by mutably borrowing a <code>FnMut</code> closure.</p>
<p>Use this for closures that need to mutate captured state. For closures that
don’t need mutation, prefer <a href="struct.ScopedClosure.html#method.borrow" title="associated function wasm_bindgen::closure::ScopedClosure::borrow"><code>borrow</code></a> which creates an immutable
<code>Fn</code> closure that is more likely to satisfy <code>UnwindSafe</code> automatically.</p>
<p>Supports unwind via its UnwindSafe bound when building with panic=unwind.
Wrap with <code>AssertUnwindSafe</code> if necessary to achieve this bound, or
use <a href="struct.ScopedClosure.html#method.borrow_mut_assert_unwind_safe" title="associated function wasm_bindgen::closure::ScopedClosure::borrow_mut_assert_unwind_safe"><code>borrow_mut_assert_unwind_safe</code></a> or
<a href="struct.ScopedClosure.html#method.borrow_mut_aborting" title="associated function wasm_bindgen::closure::ScopedClosure::borrow_mut_aborting"><code>borrow_mut_aborting</code></a> for non-unwind-safe functions.</p>
<p>See <a href="struct.ScopedClosure.html#method.borrow" title="associated function wasm_bindgen::closure::ScopedClosure::borrow"><code>borrow</code></a> for full documentation on scoped closures.</p>
<h5 id="example-1"><a class="doc-anchor" href="#example-1">§</a>Example</h5>
<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">use </span>wasm_bindgen::prelude::<span class="kw-2">*</span>;

<span class="attr">#[wasm_bindgen]
</span><span class="kw">extern </span><span class="string">"C" </span>{
    <span class="kw">fn </span>call_three_times(cb: <span class="kw-2">&amp;</span>ScopedClosure&lt;<span class="kw">dyn </span>FnMut(u32)&gt;);
}

<span class="kw">let </span><span class="kw-2">mut </span>sum = <span class="number">0</span>;
<span class="kw">let </span>closure = ScopedClosure::borrow_mut(<span class="kw-2">&amp;mut </span>|x: u32| {
    sum += x;
});
call_three_times(<span class="kw-2">&amp;</span>closure);
<span class="comment">// closure dropped, `sum` is accessible again
</span><span class="macro">assert_eq!</span>(sum, <span class="number">6</span>); <span class="comment">// 1 + 2 + 3</span></code></pre></div></div></details><details class="toggle method-toggle" open><summary><section id="method.borrow_mut_aborting" class="method"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#541-556">Source</a><h4 class="code-header">pub fn <a href="#method.borrow_mut_aborting" class="fn">borrow_mut_aborting</a>&lt;'a, F&gt;(t: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut F</a>) -&gt; <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'a, F::Static&gt;<div class="where">where
    F: IntoWasmClosureRefMut&lt;'a, T&gt; + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h4></section></summary><div class="docblock"><p>Like <a href="struct.ScopedClosure.html#method.borrow_mut" title="associated function wasm_bindgen::closure::ScopedClosure::borrow_mut"><code>borrow_mut</code></a>, but does not catch panics.</p>
<p>If the closure panics, the process will abort. This variant does not
require <code>UnwindSafe</code>.</p>
<p><strong>Note: Not unwind safe. Prefer <a href="struct.ScopedClosure.html#method.borrow_mut" title="associated function wasm_bindgen::closure::ScopedClosure::borrow_mut"><code>borrow_mut</code></a> or
<a href="struct.ScopedClosure.html#method.borrow_mut_assert_unwind_safe" title="associated function wasm_bindgen::closure::ScopedClosure::borrow_mut_assert_unwind_safe"><code>borrow_mut_assert_unwind_safe</code></a> when possible.</strong></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.borrow_mut_assert_unwind_safe" class="method"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#562-577">Source</a><h4 class="code-header">pub fn <a href="#method.borrow_mut_assert_unwind_safe" class="fn">borrow_mut_assert_unwind_safe</a>&lt;'a, F&gt;(
    t: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut F</a>,
) -&gt; <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'a, F::Static&gt;<div class="where">where
    F: IntoWasmClosureRefMut&lt;'a, T&gt; + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h4></section></summary><div class="docblock"><p>Like <a href="struct.ScopedClosure.html#method.borrow_mut" title="associated function wasm_bindgen::closure::ScopedClosure::borrow_mut"><code>borrow_mut</code></a>, but catches panics without requiring <code>MaybeUnwindSafe</code>.</p>
<p><strong>Safety: Unwind safety is assumed when using this function, like using
<code>AssertUnwindSafe(...)</code>, this must be verified explicitly.</strong></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.into_js_value" class="method"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#599-603">Source</a><h4 class="code-header">pub fn <a href="#method.into_js_value" class="fn">into_js_value</a>(self) -&gt; <a class="struct" href="../struct.JsValue.html" title="struct wasm_bindgen::JsValue">JsValue</a></h4></section></summary><div class="docblock"><p>Release memory management of this closure from Rust to the JS GC.</p>
<p>When a <code>Closure</code> is dropped it will release the Rust memory and
invalidate the associated JS closure, but this isn’t always desired.
Some callbacks are alive for the entire duration of the program or for a
lifetime dynamically managed by the JS GC. This function can be used
to drop this <code>Closure</code> while keeping the associated JS function still
valid.</p>
<p>If the platform supports weak references, the Rust memory will be
reclaimed when the JS closure is GC’d. If weak references is not
supported, this can be dangerous if this function is called many times
in an application because the memory leak will overwhelm the page
quickly and crash the wasm.</p>
<h5 id="safety-note"><a class="doc-anchor" href="#safety-note">§</a>Safety Note</h5>
<p>This method is only available on <code>'static</code> closures. Calling it on a
borrowed <code>ScopedClosure</code> would be unsound because the closure data
would become invalid when the borrow ends.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.forget" class="method"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#614-616">Source</a><h4 class="code-header">pub fn <a href="#method.forget" class="fn">forget</a>(self)</h4></section></summary><div class="docblock"><p>Same as <code>mem::forget(self)</code>.</p>
<p>This can be used to fully relinquish closure ownership to the JS.</p>
<h5 id="safety-note-1"><a class="doc-anchor" href="#safety-note-1">§</a>Safety Note</h5>
<p>This method is only available on <code>'static</code> closures. Calling it on a borrowed
<code>ScopedClosure</code> would be unsound because the closure data would become invalid
when the borrow ends.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.once" class="method"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#648-653">Source</a><h4 class="code-header">pub fn <a href="#method.once" class="fn">once</a>&lt;F, A, R&gt;(fn_once: F) -&gt; Self<div class="where">where
    F: WasmClosureFnOnce&lt;T, A, R&gt; + MaybeUnwindSafe,</div></h4></section></summary><div class="docblock"><p>Create a <code>Closure</code> from a function that can only be called once.</p>
<p>Since we have no way of enforcing that JS cannot attempt to call this
<code>FnOne(A...) -&gt; R</code> more than once, this produces a <code>Closure&lt;dyn FnMut(A...) -&gt; R&gt;</code> that will dynamically throw a JavaScript error if called more
than once.</p>
<h5 id="example-2"><a class="doc-anchor" href="#example-2">§</a>Example</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>wasm_bindgen::prelude::<span class="kw-2">*</span>;

<span class="comment">// Create an non-`Copy`, owned `String`.
</span><span class="kw">let </span><span class="kw-2">mut </span>s = String::from(<span class="string">"Hello"</span>);

<span class="comment">// Close over `s`. Since `f` returns `s`, it is `FnOnce` and can only be
// called once. If it was called a second time, it wouldn't have any `s`
// to work with anymore!
</span><span class="kw">let </span>f = <span class="kw">move </span>|| {
    s += <span class="string">", World!"</span>;
    s
};

<span class="comment">// Create a `Closure` from `f`. Note that the `Closure`'s type parameter
// is `FnMut`, even though `f` is `FnOnce`.
</span><span class="kw">let </span>closure: Closure&lt;<span class="kw">dyn </span>FnMut() -&gt; String&gt; = Closure::once(f);</code></pre></div>
<p>Note: the <code>A</code> and <code>R</code> type parameters are here just for backward compat
and will be removed in the future.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.once_aborting" class="method"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#675-680">Source</a><h4 class="code-header">pub fn <a href="#method.once_aborting" class="fn">once_aborting</a>&lt;F, A, R&gt;(fn_once: F) -&gt; Self<div class="where">where
    F: WasmClosureFnOnceAbort&lt;T, A, R&gt;,</div></h4></section></summary><div class="docblock"><p>Create a <code>Closure</code> from a function that can only be called once.</p>
<p>Unlike <code>once</code>, this version does NOT catch panics and does NOT require <code>UnwindSafe</code>.
If the closure panics, the process will abort.</p>
<p>Use this when:</p>
<ul>
<li>Your closure captures types that aren’t <code>UnwindSafe</code> (like <code>Rc&lt;Cell&lt;T&gt;&gt;</code>)</li>
<li>You don’t need panic catching across the JS boundary</li>
<li>You prefer abort-on-panic behavior</li>
</ul>
<p>Since we have no way of enforcing that JS cannot attempt to call this
<code>FnOnce(A...) -&gt; R</code> more than once, this produces a <code>Closure&lt;dyn FnMut(A...) -&gt; R&gt;</code> that will dynamically throw a JavaScript error if called more
than once.</p>
<p><strong>Note: Not unwind safe. Prefer <a href="struct.ScopedClosure.html#method.once" title="associated function wasm_bindgen::closure::ScopedClosure::once"><code>once</code></a> or <code>once</code> with
<a href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/struct.AssertUnwindSafe.html" title="struct core::panic::unwind_safe::AssertUnwindSafe"><code>AssertUnwindSafe</code></a> when possible.</strong></p>
<p>Note: the <code>A</code> and <code>R</code> type parameters are here just for backward compat
and will be removed in the future.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.once_assert_unwind_safe" class="method"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#699-704">Source</a><h4 class="code-header">pub fn <a href="#method.once_assert_unwind_safe" class="fn">once_assert_unwind_safe</a>&lt;F, A, R&gt;(fn_once: F) -&gt; Self<div class="where">where
    F: WasmClosureFnOnceAbort&lt;T, A, R&gt;,</div></h4></section></summary><div class="docblock"><p>Create a <code>Closure</code> from a function that can only be called once,
with panic unwind support.</p>
<p><strong>Safety: Unwind safety is assumed when using this function, like using
<code>AssertUnwindSafe(...)</code>, this must be verified explicitly.</strong></p>
<p>Use this when:</p>
<ul>
<li>Your closure captures types that aren’t <code>UnwindSafe</code> (like <code>Rc&lt;Cell&lt;T&gt;&gt;</code>)</li>
<li>You still want panics to be caught and converted to JS exceptions</li>
</ul>
<p>Since we have no way of enforcing that JS cannot attempt to call this
<code>FnOnce(A...) -&gt; R</code> more than once, this produces a <code>Closure&lt;dyn FnMut(A...) -&gt; R&gt;</code> that will dynamically throw a JavaScript error if called more
than once.</p>
<p>Note: the <code>A</code> and <code>R</code> type parameters are here just for backward compat
and will be removed in the future.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.once_into_js" class="method"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#732-737">Source</a><h4 class="code-header">pub fn <a href="#method.once_into_js" class="fn">once_into_js</a>&lt;F, A, R&gt;(fn_once: F) -&gt; <a class="struct" href="../struct.JsValue.html" title="struct wasm_bindgen::JsValue">JsValue</a><div class="where">where
    F: WasmClosureFnOnce&lt;T, A, R&gt; + MaybeUnwindSafe,</div></h4></section></summary><div class="docblock"><p>Convert a <code>FnOnce(A...) -&gt; R</code> into a JavaScript <code>Function</code> object.</p>
<p>If the JavaScript function is invoked more than once, it will throw an
exception.</p>
<p>Unlike <code>Closure::once</code>, this does <em>not</em> return a <code>Closure</code> that can be
dropped before the function is invoked to deallocate the closure. The
only way the <code>FnOnce</code> is deallocated is by calling the JavaScript
function. If the JavaScript function is never called then the <code>FnOnce</code>
and everything it closes over will leak.</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">use </span>wasm_bindgen::{prelude::<span class="kw-2">*</span>, JsCast};

<span class="kw">let </span>f = Closure::once_into_js(<span class="kw">move </span>|| {
    <span class="comment">// ...
</span>});

<span class="macro">assert!</span>(f.is_instance_of::&lt;js_sys::Function&gt;());</code></pre></div>
<p>Note: the <code>A</code> and <code>R</code> type parameters are here just for backward compat
and will be removed in the future.</p>
</div></details></div></details></div><h2 id="trait-implementations" class="section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-AsRef%3CJsValue%3E-for-ScopedClosure%3C'_,+T%3E" class="impl"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#758-762">Source</a><a href="#impl-AsRef%3CJsValue%3E-for-ScopedClosure%3C'_,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="struct" href="../struct.JsValue.html" title="struct wasm_bindgen::JsValue">JsValue</a>&gt; for <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'_, T&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.as_ref" class="method trait-impl"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#759-761">Source</a><a href="#method.as_ref" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html#tymethod.as_ref" class="fn">as_ref</a>(&amp;self) -&gt; &amp;<a class="struct" href="../struct.JsValue.html" title="struct wasm_bindgen::JsValue">JsValue</a></h4></section></summary><div class='docblock'>Converts this type into a shared reference of the (usually inferred) input type.</div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-Debug-for-ScopedClosure%3C'_,+T%3E" class="impl"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#968-975">Source</a><a href="#impl-Debug-for-ScopedClosure%3C'_,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'_, T&gt;<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.fmt" class="method trait-impl"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#972-974">Source</a><a href="#method.fmt" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt" class="fn">fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="type" href="https://doc.rust-lang.org/nightly/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></h4></section></summary><div class='docblock'>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-Drop-for-ScopedClosure%3C'_,+T%3E" class="impl"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#191-206">Source</a><a href="#impl-Drop-for-ScopedClosure%3C'_,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/drop/trait.Drop.html" title="trait core::ops::drop::Drop">Drop</a> for <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'_, T&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.drop" class="method trait-impl"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#192-205">Source</a><a href="#method.drop" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/ops/drop/trait.Drop.html#tymethod.drop" class="fn">drop</a>(&amp;mut self)</h4></section></summary><div class='docblock'>Executes the destructor for this type. <a href="https://doc.rust-lang.org/nightly/core/ops/drop/trait.Drop.html#tymethod.drop">Read more</a></div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-ErasableGeneric-for-ScopedClosure%3C'_,+T%3E" class="impl"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#1065-1067">Source</a><a href="#impl-ErasableGeneric-for-ScopedClosure%3C'_,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + WasmClosure&gt; <a class="trait" href="../trait.ErasableGeneric.html" title="trait wasm_bindgen::ErasableGeneric">ErasableGeneric</a> for <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'_, T&gt;</h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Repr" class="associatedtype trait-impl"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#1066">Source</a><a href="#associatedtype.Repr" class="anchor">§</a><h4 class="code-header">type <a href="../trait.ErasableGeneric.html#associatedtype.Repr" class="associatedtype">Repr</a> = <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'static, dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>()&gt;</h4></section></summary><div class='docblock'>The singular concrete type that all generic variants can be transmuted on</div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-IntoWasmAbi-for-%26ScopedClosure%3C'_,+T%3E" class="impl"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#892-901">Source</a><a href="#impl-IntoWasmAbi-for-%26ScopedClosure%3C'_,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="../convert/trait.IntoWasmAbi.html" title="trait wasm_bindgen::convert::IntoWasmAbi">IntoWasmAbi</a> for &amp;<a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'_, T&gt;<div class="where">where
    T: WasmClosure + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Abi" class="associatedtype trait-impl"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#896">Source</a><a href="#associatedtype.Abi" class="anchor">§</a><h4 class="code-header">type <a href="../convert/trait.IntoWasmAbi.html#associatedtype.Abi" class="associatedtype">Abi</a> = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a></h4></section></summary><div class='docblock'>The Wasm ABI type that this converts into when crossing the ABI
boundary.</div></details><details class="toggle method-toggle" open><summary><section id="method.into_abi" class="method trait-impl"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#898-900">Source</a><a href="#method.into_abi" class="anchor">§</a><h4 class="code-header">fn <a href="../convert/trait.IntoWasmAbi.html#tymethod.into_abi" class="fn">into_abi</a>(self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a></h4></section></summary><div class='docblock'>Convert <code>self</code> into <code>Self::Abi</code> so that it can be sent across the wasm
ABI boundary.</div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-IntoWasmAbi-for-ScopedClosure%3C'static,+T%3E" class="impl"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#930-941">Source</a><a href="#impl-IntoWasmAbi-for-ScopedClosure%3C'static,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="../convert/trait.IntoWasmAbi.html" title="trait wasm_bindgen::convert::IntoWasmAbi">IntoWasmAbi</a> for <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'static, T&gt;<div class="where">where
    T: WasmClosure + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3><div class="docblock"><p><code>'static</code> closures can be passed by value to JS, transferring ownership.</p>
</div></section></summary><div class="docblock"><p>This is useful for one-shot callbacks where you want JS to own the closure.
The closure will be cleaned up by JS GC (if weak references are supported)
or will leak (if weak references are not supported).</p>
<h4 id="example-3"><a class="doc-anchor" href="#example-3">§</a>Example</h4>
<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="attr">#[wasm_bindgen]
</span><span class="kw">extern </span><span class="string">"C" </span>{
    <span class="kw">fn </span>set_one_shot_callback(cb: Closure&lt;<span class="kw">dyn </span>FnMut()&gt;);
}

<span class="kw">let </span>cb = Closure::new(|| { <span class="comment">/* ... */ </span>});
set_one_shot_callback(cb);  <span class="comment">// Ownership transferred to JS
// No need to store or forget the closure</span></code></pre></div></div><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Abi-1" class="associatedtype trait-impl"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#934">Source</a><a href="#associatedtype.Abi-1" class="anchor">§</a><h4 class="code-header">type <a href="../convert/trait.IntoWasmAbi.html#associatedtype.Abi" class="associatedtype">Abi</a> = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a></h4></section></summary><div class='docblock'>The Wasm ABI type that this converts into when crossing the ABI
boundary.</div></details><details class="toggle method-toggle" open><summary><section id="method.into_abi-1" class="method trait-impl"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#936-940">Source</a><a href="#method.into_abi-1" class="anchor">§</a><h4 class="code-header">fn <a href="../convert/trait.IntoWasmAbi.html#tymethod.into_abi" class="fn">into_abi</a>(self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a></h4></section></summary><div class='docblock'>Convert <code>self</code> into <code>Self::Abi</code> so that it can be sent across the wasm
ABI boundary.</div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-OptionIntoWasmAbi-for-%26ScopedClosure%3C'_,+T%3E" class="impl"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#903-910">Source</a><a href="#impl-OptionIntoWasmAbi-for-%26ScopedClosure%3C'_,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="../convert/trait.OptionIntoWasmAbi.html" title="trait wasm_bindgen::convert::OptionIntoWasmAbi">OptionIntoWasmAbi</a> for &amp;<a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'_, T&gt;<div class="where">where
    T: WasmClosure + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.none" class="method trait-impl"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#907-909">Source</a><a href="#method.none" class="anchor">§</a><h4 class="code-header">fn <a href="../convert/trait.OptionIntoWasmAbi.html#tymethod.none" class="fn">none</a>() -&gt; Self::<a class="associatedtype" href="../convert/trait.IntoWasmAbi.html#associatedtype.Abi" title="type wasm_bindgen::convert::IntoWasmAbi::Abi">Abi</a></h4></section></summary><div class='docblock'>Returns an ABI instance indicating “none”, which JS will interpret as
the <code>None</code> branch of this option. <a href="../convert/trait.OptionIntoWasmAbi.html#tymethod.none">Read more</a></div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-OptionIntoWasmAbi-for-ScopedClosure%3C'static,+T%3E" class="impl"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#943-950">Source</a><a href="#impl-OptionIntoWasmAbi-for-ScopedClosure%3C'static,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="../convert/trait.OptionIntoWasmAbi.html" title="trait wasm_bindgen::convert::OptionIntoWasmAbi">OptionIntoWasmAbi</a> for <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'static, T&gt;<div class="where">where
    T: WasmClosure + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.none-1" class="method trait-impl"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#947-949">Source</a><a href="#method.none-1" class="anchor">§</a><h4 class="code-header">fn <a href="../convert/trait.OptionIntoWasmAbi.html#tymethod.none" class="fn">none</a>() -&gt; Self::<a class="associatedtype" href="../convert/trait.IntoWasmAbi.html#associatedtype.Abi" title="type wasm_bindgen::convert::IntoWasmAbi::Abi">Abi</a></h4></section></summary><div class='docblock'>Returns an ABI instance indicating “none”, which JS will interpret as
the <code>None</code> branch of this option. <a href="../convert/trait.OptionIntoWasmAbi.html#tymethod.none">Read more</a></div></details></div></details><section id="impl-Unpin-for-ScopedClosure%3C'_,+T%3E" class="impl"><a class="src rightside" href="../../src/wasm_bindgen/closure.rs.html#185">Source</a><a href="#impl-Unpin-for-ScopedClosure%3C'_,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'_, T&gt;</h3></section><section id="impl-UpcastFrom%3CScopedClosure%3C'a,+T1%3E%3E-for-ScopedClosure%3C'b,+T2%3E" class="impl"><a class="src rightside" href="../../src/wasm_bindgen/convert/closures.rs.html#529-534">Source</a><a href="#impl-UpcastFrom%3CScopedClosure%3C'a,+T1%3E%3E-for-ScopedClosure%3C'b,+T2%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a, 'b, T1, T2&gt; <a class="trait" href="../convert/trait.UpcastFrom.html" title="trait wasm_bindgen::convert::UpcastFrom">UpcastFrom</a>&lt;<a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'a, T1&gt;&gt; for <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'b, T2&gt;<div class="where">where
    T1: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + WasmClosure,
    T2: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + WasmClosure + <a class="trait" href="../convert/trait.UpcastFrom.html" title="trait wasm_bindgen::convert::UpcastFrom">UpcastFrom</a>&lt;T1&gt;,</div></h3></section></div><h2 id="synthetic-implementations" class="section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">§</a></h2><div id="synthetic-implementations-list"><section id="impl-Freeze-for-ScopedClosure%3C'a,+T%3E" class="impl"><a href="#impl-Freeze-for-ScopedClosure%3C'a,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a, T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Freeze.html" title="trait core::marker::Freeze">Freeze</a> for <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'a, T&gt;<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section><section id="impl-RefUnwindSafe-for-ScopedClosure%3C'a,+T%3E" class="impl"><a href="#impl-RefUnwindSafe-for-ScopedClosure%3C'a,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a, T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'a, T&gt;<div class="where">where
    T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section><section id="impl-Send-for-ScopedClosure%3C'a,+T%3E" class="impl"><a href="#impl-Send-for-ScopedClosure%3C'a,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a, T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'a, T&gt;<div class="where">where
    T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section><section id="impl-Sync-for-ScopedClosure%3C'a,+T%3E" class="impl"><a href="#impl-Sync-for-ScopedClosure%3C'a,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a, T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'a, T&gt;<div class="where">where
    T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section><section id="impl-UnsafeUnpin-for-ScopedClosure%3C'a,+T%3E" class="impl"><a href="#impl-UnsafeUnpin-for-ScopedClosure%3C'a,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a, T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.UnsafeUnpin.html" title="trait core::marker::UnsafeUnpin">UnsafeUnpin</a> for <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'a, T&gt;<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section><section id="impl-UnwindSafe-for-ScopedClosure%3C'a,+T%3E" class="impl"><a href="#impl-UnwindSafe-for-ScopedClosure%3C'a,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a, T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.ScopedClosure.html" title="struct wasm_bindgen::closure::ScopedClosure">ScopedClosure</a>&lt;'a, T&gt;<div class="where">where
    T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></div><h2 id="blanket-implementations" class="section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">§</a></h2><div id="blanket-implementations-list"><details class="toggle implementors-toggle"><summary><section id="impl-Any-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#141">Source</a><a href="#impl-Any-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<div class="where">where
    T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#142">Source</a><a href="#method.type_id" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#212">Source</a><a href="#impl-Borrow%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow-1" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#214">Source</a><a href="#method.borrow-1" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow" class="fn">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;T</a></h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#221">Source</a><a href="#impl-BorrowMut%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow_mut-1" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#222">Source</a><a href="#method.borrow_mut-1" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fn">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut T</a></h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#785">Source</a><a href="#impl-From%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#788">Source</a><a href="#method.from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html#tymethod.from" class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#767-769">Source</a><a href="#impl-Into%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#777">Source</a><a href="#method.into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html#tymethod.into" class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-ReturnWasmAbi-for-T" class="impl"><a class="src rightside" href="../../src/wasm_bindgen/convert/traits.rs.html#248-255">Source</a><a href="#impl-ReturnWasmAbi-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="../convert/trait.ReturnWasmAbi.html" title="trait wasm_bindgen::convert::ReturnWasmAbi">ReturnWasmAbi</a> for T<div class="where">where
    T: <a class="trait" href="../convert/trait.IntoWasmAbi.html" title="trait wasm_bindgen::convert::IntoWasmAbi">IntoWasmAbi</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Abi-2" class="associatedtype trait-impl"><a class="src rightside" href="../../src/wasm_bindgen/convert/traits.rs.html#249">Source</a><a href="#associatedtype.Abi-2" class="anchor">§</a><h4 class="code-header">type <a href="../convert/trait.ReturnWasmAbi.html#associatedtype.Abi" class="associatedtype">Abi</a> = &lt;T as <a class="trait" href="../convert/trait.IntoWasmAbi.html" title="trait wasm_bindgen::convert::IntoWasmAbi">IntoWasmAbi</a>&gt;::<a class="associatedtype" href="../convert/trait.IntoWasmAbi.html#associatedtype.Abi" title="type wasm_bindgen::convert::IntoWasmAbi::Abi">Abi</a></h4></section></summary><div class='docblock'>Same as <code>IntoWasmAbi::Abi</code></div></details><details class="toggle method-toggle" open><summary><section id="method.return_abi" class="method trait-impl"><a class="src rightside" href="../../src/wasm_bindgen/convert/traits.rs.html#252-254">Source</a><a href="#method.return_abi" class="anchor">§</a><h4 class="code-header">fn <a href="../convert/trait.ReturnWasmAbi.html#tymethod.return_abi" class="fn">return_abi</a>(self) -&gt; &lt;T as <a class="trait" href="../convert/trait.ReturnWasmAbi.html" title="trait wasm_bindgen::convert::ReturnWasmAbi">ReturnWasmAbi</a>&gt;::<a class="associatedtype" href="../convert/trait.ReturnWasmAbi.html#associatedtype.Abi" title="type wasm_bindgen::convert::ReturnWasmAbi::Abi">Abi</a></h4></section></summary><div class='docblock'>Same as <code>IntoWasmAbi::into_abi</code>, except that it may throw and never
return in the case of <code>Err</code>.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#827-829">Source</a><a href="#impl-TryFrom%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#831">Source</a><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#834">Source</a><a href="#method.try_from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#tymethod.try_from" class="fn">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#811-813">Source</a><a href="#impl-TryInto%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#815">Source</a><a href="#associatedtype.Error" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#818">Source</a><a href="#method.try_into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#tymethod.try_into" class="fn">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Upcast%3CT%3E-for-S" class="impl"><a class="src rightside" href="../../src/wasm_bindgen/convert/traits.rs.html#466-471">Source</a><a href="#impl-Upcast%3CT%3E-for-S" class="anchor">§</a><h3 class="code-header">impl&lt;S, T&gt; <a class="trait" href="../convert/trait.Upcast.html" title="trait wasm_bindgen::convert::Upcast">Upcast</a>&lt;T&gt; for S<div class="where">where
    T: <a class="trait" href="../convert/trait.UpcastFrom.html" title="trait wasm_bindgen::convert::UpcastFrom">UpcastFrom</a>&lt;S&gt; + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,
    S: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.upcast" class="method trait-impl"><a class="src rightside" href="../../src/wasm_bindgen/convert/traits.rs.html#431-437">Source</a><a href="#method.upcast" class="anchor">§</a><h4 class="code-header">fn <a href="../convert/trait.Upcast.html#method.upcast" class="fn">upcast</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;T</a><div class="where">where
    Self: <a class="trait" href="../trait.ErasableGeneric.html" title="trait wasm_bindgen::ErasableGeneric">ErasableGeneric</a>,
    T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="../trait.ErasableGeneric.html" title="trait wasm_bindgen::ErasableGeneric">ErasableGeneric</a>&lt;Repr = &lt;Self as <a class="trait" href="../trait.ErasableGeneric.html" title="trait wasm_bindgen::ErasableGeneric">ErasableGeneric</a>&gt;::<a class="associatedtype" href="../trait.ErasableGeneric.html#associatedtype.Repr" title="type wasm_bindgen::ErasableGeneric::Repr">Repr</a>&gt;,</div></h4></section></summary><div class='docblock'>Perform a zero-cost type-safe upcast to a wider ref type within the Wasm
bindgen generics type system. <a href="../convert/trait.Upcast.html#method.upcast">Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.upcast_into" class="method trait-impl"><a class="src rightside" href="../../src/wasm_bindgen/convert/traits.rs.html#456-462">Source</a><a href="#method.upcast_into" class="anchor">§</a><h4 class="code-header">fn <a href="../convert/trait.Upcast.html#method.upcast_into" class="fn">upcast_into</a>(self) -&gt; T<div class="where">where
    Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="../trait.ErasableGeneric.html" title="trait wasm_bindgen::ErasableGeneric">ErasableGeneric</a>,
    T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="../trait.ErasableGeneric.html" title="trait wasm_bindgen::ErasableGeneric">ErasableGeneric</a>&lt;Repr = &lt;Self as <a class="trait" href="../trait.ErasableGeneric.html" title="trait wasm_bindgen::ErasableGeneric">ErasableGeneric</a>&gt;::<a class="associatedtype" href="../trait.ErasableGeneric.html#associatedtype.Repr" title="type wasm_bindgen::ErasableGeneric::Repr">Repr</a>&gt;,</div></h4></section></summary><div class='docblock'>Perform a zero-cost type-safe upcast to a wider type within the Wasm
bindgen generics type system. <a href="../convert/trait.Upcast.html#method.upcast_into">Read more</a></div></details></div></details></div></section></div></main></body></html>